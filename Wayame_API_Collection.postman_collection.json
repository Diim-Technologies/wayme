{
	"info": {
		"_postman_id": "wayame-api-collection",
		"name": "Wayame API - Nigerian Money Transfer",
		"description": "Complete API collection for Wayame - Nigerian Money Transfer Service\n\n## Base URL\n`http://localhost:3000/api/v1`\n\n## Authentication\nMost endpoints require JWT Bearer token authentication. Get your token by registering or logging in.\n\n## Variables\nSet these variables in your Postman environment:\n- `baseUrl`: http://localhost:3000/api/v1\n- `accessToken`: Your JWT token (set automatically after login)\n- `userId`: Current user ID (set automatically after login)\n- `transferId`: Transfer ID for testing\n- `paymentMethodId`: Payment method ID for testing",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Health Check",
			"item": [
				{
					"name": "API Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/",
							"host": ["{{baseUrl}}"],
							"path": [""]
						}
					},
					"response": []
				},
				{
					"name": "Detailed Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/health",
							"host": ["{{baseUrl}}"],
							"path": ["health"]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Register User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const responseJson = pm.response.json();",
									"    pm.environment.set('accessToken', responseJson.accessToken);",
									"    pm.environment.set('userId', responseJson.user.id);",
									"    console.log('✅ User registered successfully');",
									"    console.log('Access Token:', responseJson.accessToken);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"john.doe@example.com\",\n  \"firstName\": \"John\",\n  \"lastName\": \"Doe\",\n  \"phoneNumber\": \"+2348123456789\",\n  \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/register",
							"host": ["{{baseUrl}}"],
							"path": ["auth", "register"]
						}
					}
				},
				{
					"name": "Login User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 200) {",
									"    const responseJson = pm.response.json();",
									"    pm.environment.set('accessToken', responseJson.accessToken);",
									"    pm.environment.set('userId', responseJson.user.id);",
									"    console.log('✅ User logged in successfully');",
									"    console.log('Access Token:', responseJson.accessToken);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"john.doe@example.com\",\n  \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/login",
							"host": ["{{baseUrl}}"],
							"path": ["auth", "login"]
						}
					}
				},
				{
					"name": "Forgot Password - Request OTP",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"john.doe@example.com\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/forgot-password",
							"host": ["{{baseUrl}}"],
							"path": ["auth", "forgot-password"]
						}
					}
				},
				{
					"name": "Verify OTP Code",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"john.doe@example.com\",\n  \"code\": \"123456\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/verify-otp",
							"host": ["{{baseUrl}}"],
							"path": ["auth", "verify-otp"]
						}
					}
				},
				{
					"name": "Reset Password with OTP",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"john.doe@example.com\",\n  \"code\": \"123456\",\n  \"newPassword\": \"NewPassword123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/reset-password",
							"host": ["{{baseUrl}}"],
							"path": ["auth", "reset-password"]
						}
					}
				},
				{
					"name": "Change Password (Authenticated)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"currentPassword\": \"Password123\",\n  \"newPassword\": \"NewPassword123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/auth/change-password",
							"host": ["{{baseUrl}}"],
							"path": ["auth", "change-password"]
						}
					}
				},
				{
					"name": "Get Current User Profile",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/auth/profile",
							"host": ["{{baseUrl}}"],
							"path": ["auth", "profile"]
						}
					}
				}
			]
		},
		{
			"name": "Users",
			"item": [
				{
					"name": "Get Current User Info",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/users/me",
							"host": ["{{baseUrl}}"],
							"path": ["users", "me"]
						}
					}
				},
				{
					"name": "Get User Profile",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/users/profile",
							"host": ["{{baseUrl}}"],
							"path": ["users", "profile"]
						}
					}
				},
				{
					"name": "Update User Profile",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"dateOfBirth\": \"1990-01-01\",\n  \"address\": \"123 Lagos Street\",\n  \"city\": \"Lagos\",\n  \"state\": \"Lagos State\",\n  \"country\": \"NG\",\n  \"postalCode\": \"100001\",\n  \"occupation\": \"Software Engineer\",\n  \"idType\": \"NIN\",\n  \"idNumber\": \"12345678901\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/users/profile",
							"host": ["{{baseUrl}}"],
							"path": ["users", "profile"]
						}
					}
				},
				{
					"name": "Get Transfer History",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/users/transfers?page=1&limit=10",
							"host": ["{{baseUrl}}"],
							"path": ["users", "transfers"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								}
							]
						}
					}
				}
			]
		},
		{
			"name": "Banks",
			"item": [
				{
					"name": "Get All Nigerian Banks",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/banks",
							"host": ["{{baseUrl}}"],
							"path": ["banks"]
						}
					}
				},
				{
					"name": "Get Bank by Code",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/banks/044",
							"host": ["{{baseUrl}}"],
							"path": ["banks", "044"]
						}
					}
				},
				{
					"name": "Verify Account Number",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/banks/verify/044/0123456789",
							"host": ["{{baseUrl}}"],
							"path": ["banks", "verify", "044", "0123456789"]
						}
					}
				},
				{
					"name": "Seed Banks (Dev Only)",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/banks/seed",
							"host": ["{{baseUrl}}"],
							"path": ["banks", "seed"]
						}
					}
				},
				{
					"name": "Sync Banks from Paystack",
					"request": {
						"method": "POST",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/banks/sync-paystack",
							"host": ["{{baseUrl}}"],
							"path": ["banks", "sync-paystack"]
						}
					}
				}
			]
		},
		{
			"name": "Payment Methods",
			"item": [
				{
					"name": "Get Payment Methods",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/payments/methods",
							"host": ["{{baseUrl}}"],
							"path": ["payments", "methods"]
						}
					}
				},
				{
					"name": "Add Card Payment Method",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const responseJson = pm.response.json();",
									"    pm.environment.set('paymentMethodId', responseJson.id);",
									"    console.log('✅ Card added successfully');",
									"    console.log('Payment Method ID:', responseJson.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"cardNumber\": \"4111111111111111\",\n  \"expiryMonth\": 12,\n  \"expiryYear\": 2025,\n  \"cvv\": \"123\",\n  \"holderName\": \"John Doe\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/payments/methods/card",
							"host": ["{{baseUrl}}"],
							"path": ["payments", "methods", "card"]
						}
					}
				},
				{
					"name": "Add Bank Account Payment Method",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const responseJson = pm.response.json();",
									"    pm.environment.set('paymentMethodId', responseJson.id);",
									"    console.log('✅ Bank account added successfully');",
									"    console.log('Payment Method ID:', responseJson.id);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"accountNumber\": \"0123456789\",\n  \"accountName\": \"John Doe\",\n  \"bankName\": \"Access Bank\",\n  \"bankCode\": \"044\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/payments/methods/bank",
							"host": ["{{baseUrl}}"],
							"path": ["payments", "methods", "bank"]
						}
					}
				},
				{
					"name": "Set Default Payment Method",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/payments/methods/{{paymentMethodId}}/default",
							"host": ["{{baseUrl}}"],
							"path": ["payments", "methods", "{{paymentMethodId}}", "default"]
						}
					}
				},
				{
					"name": "Remove Payment Method",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/payments/methods/{{paymentMethodId}}",
							"host": ["{{baseUrl}}"],
							"path": ["payments", "methods", "{{paymentMethodId}}"]
						}
					}
				}
			]
		},
		{
			"name": "Transfers",
			"item": [
				{
					"name": "Get Transfer Quote",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"amount\": 10000,\n  \"sourceCurrency\": \"NGN\",\n  \"targetCurrency\": \"NGN\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/transfers/quote",
							"host": ["{{baseUrl}}"],
							"path": ["transfers", "quote"]
						}
					}
				},
				{
					"name": "Create Transfer",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"if (pm.response.code === 201) {",
									"    const responseJson = pm.response.json();",
									"    pm.environment.set('transferId', responseJson.id);",
									"    console.log('✅ Transfer created successfully');",
									"    console.log('Transfer ID:', responseJson.id);",
									"    console.log('Reference:', responseJson.reference);",
									"}"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"amount\": 10000,\n  \"purpose\": \"Family support\",\n  \"paymentMethodId\": \"{{paymentMethodId}}\",\n  \"recipientBankId\": \"bank_id_here\",\n  \"recipientAccount\": \"0123456789\",\n  \"recipientName\": \"Jane Doe\",\n  \"recipientPhone\": \"+2348987654321\",\n  \"notes\": \"Monthly allowance\",\n  \"targetCurrency\": \"NGN\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/transfers",
							"host": ["{{baseUrl}}"],
							"path": ["transfers"]
						}
					}
				},
				{
					"name": "Get User Transfers",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/transfers?page=1&limit=10&status=PENDING",
							"host": ["{{baseUrl}}"],
							"path": ["transfers"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "10"
								},
								{
									"key": "status",
									"value": "PENDING"
								}
							]
						}
					}
				},
				{
					"name": "Get Transfer by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/transfers/{{transferId}}",
							"host": ["{{baseUrl}}"],
							"path": ["transfers", "{{transferId}}"]
						}
					}
				},
				{
					"name": "Cancel Transfer",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/transfers/{{transferId}}/cancel",
							"host": ["{{baseUrl}}"],
							"path": ["transfers", "{{transferId}}", "cancel"]
						}
					}
				}
			]
		},
		{
			"name": "Notifications",
			"item": [
				{
					"name": "Get Notifications",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/notifications?page=1&limit=20",
							"host": ["{{baseUrl}}"],
							"path": ["notifications"],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "limit",
									"value": "20"
								}
							]
						}
					}
				},
				{
					"name": "Get Unread Count",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/notifications/unread-count",
							"host": ["{{baseUrl}}"],
							"path": ["notifications", "unread-count"]
						}
					}
				},
				{
					"name": "Mark Notification as Read",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/notifications/notification_id_here/read",
							"host": ["{{baseUrl}}"],
							"path": ["notifications", "notification_id_here", "read"]
						}
					}
				},
				{
					"name": "Mark All as Read",
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{accessToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/notifications/mark-all-read",
							"host": ["{{baseUrl}}"],
							"path": ["notifications", "mark-all-read"]
						}
					}
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Auto-set base URL if not already set",
					"if (!pm.environment.get('baseUrl')) {",
					"    pm.environment.set('baseUrl', 'http://localhost:3000/api/v1');",
					"}"
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:3000/api/v1",
			"type": "string"
		}
	]
}